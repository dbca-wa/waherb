{% load static %}

<!doctype html>
<html lang="en">
<head>
    <title>Species search</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.1/pure-min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css" integrity="sha256-+bdWuWOXMFkX0v9Cvr3OWClPiYefDQz9GGZP/7xZxdc=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css" integrity="sha256-LWhzWaQGZRsWFrrJxg+6Zn8TT84k0/trtiHBc6qcGpY=" crossorigin="anonymous" />
    <style>
        #map { width:100%; height: 480px;}
        .ui-autocomplete {
            z-index: 999 !important;
        }
    </style>
</head>
<body>

<h1>Species search</h1>

<p>Search for species by name (all of Western Australia):</p>
<form id="species-name-form" class="pure-form pure-form-aligned">
    <div class="pure-control-group">
        <label for="species-name">Name</label>
        <input id="species-name" type="text" class="pure-input-1-2" placeholder="E.g. Ctenotus panterinus">
    </div>
    <div class="pure-controls">
        <button type="submit" class="pure-button pure-button-primary">Search</button>
    </div>
</form>
<br>

<div>
    <p>Use the drawing tools in the map below to search for species by area.</p>
</div>

<div id="map"></div>
<div id="api-response"><p>No results</p></div>
<button type="button" id="download-button" class="pure-button" disabled="true">Download results as GeoJSON</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js" integrity="sha256-WL6HHfYfbFEkZOFdsJQeY7lJG/E5airjvqbznghUzRw=" crossorigin="anonymous"></script>
<script>
    // Set global variables (needs to happen before loading taxonlocation_search.js)
    var geoserver_wms_url = '{{ GEOSERVER_WMS_URL }}';
</script>
<script src="{% static 'js/taxonlocation_search.js' %}"></script>
</body>
</html>
